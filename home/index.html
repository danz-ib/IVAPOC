<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, width=device-width">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="apple-mobile-web-app-title" content="IVAPOC Demo">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="theme-color" content="#000000">
	<title>IVAPOC Home</title>
	<link rel="stylesheet" href="./styles/global.css" />
	<link rel="stylesheet" href="./styles/index.css" />
	<script>
		// Force full-screen mode on iPad and prevent Safari UI from showing
		(function() {
			// Check if we're on iOS
			const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
			
			if (isIOS) {
				// Request full-screen on page load
				document.addEventListener('DOMContentLoaded', function() {
					// Try to enter full-screen mode
					if (document.documentElement.requestFullscreen) {
						document.documentElement.requestFullscreen().catch(function(err) {
							console.log('Full-screen request failed:', err);
						});
					}
					
					// Hide Safari UI elements
					setTimeout(function() {
						// Force landscape orientation and hide UI
						if (screen.orientation && screen.orientation.lock) {
							screen.orientation.lock('landscape').catch(function(err) {
								console.log('Orientation lock failed:', err);
							});
						}
					}, 100);
				});
				
				// Prevent Safari UI from showing on navigation
				window.addEventListener('beforeunload', function() {
					// This helps maintain full-screen state
				});
				
				// Handle orientation changes
				window.addEventListener('orientationchange', function() {
					setTimeout(function() {
						if (document.documentElement.requestFullscreen) {
							document.documentElement.requestFullscreen().catch(function(err) {
								console.log('Full-screen request failed on orientation change:', err);
							});
						}
					}, 100);
				});
			}
		})();
	</script>
</head>
<body>
  	<div class="ipad-pro-129-36">
  		<div class="demo-disclaimer">Not approved for use. Working demo only.</div>
    		<!-- Button Container -->
    		<div class="button-container">
    			<!-- VOWST Button -->
    			<button class="vowst-button" onclick="navigateToVowst()">
    				<img class="vowst-button-icon" alt="VOWST" src="assets/vowst-button.svg">
    			</button>
    			
    			<!-- ZENPEP Button -->
    			<button class="zenpep-button" onclick="navigateToZenpep()">
    				<img class="zenpep-button-icon" alt="ZENPEP" src="assets/zenpep-button.svg">
    			</button>
    		</div>
    		
    		<!-- NHS Logo -->
    		<img class="nhs-logo-rgb-1-icon" alt="NHS Logo" src="assets/NHS_Logo-RGB 1.svg">
    		
    		<!-- Navigation Icons -->
    		<img class="noun-home-1570646-icon" alt="Home" src="assets/noun-home-1570646.svg">
    		<img class="noun-menu-6829015-icon" alt="Menu" src="assets/noun-menu-6829015.svg">
    		
    		<!-- Segmentation Survey Link -->
    		<div class="segmentation-survey-link" onclick="openSegmentationSurvey()">
    			<img class="question-icon" alt="Question" src="assets/question.svg">
    			<span class="segmentation-text">Segmentation Survey</span>
    			<img class="go-icon" alt="Go" src="assets/go.svg">
    		</div>
  	</div>
  	
  	<!-- Segmentation Survey Modal -->
  	<div id="segmentationModal" class="modal-overlay" style="display: none;">
  		<div class="modal-content">
  			<!-- Survey Warning Banner -->
  			<div class="survey-warning-banner">
  				<div class="survey-warning-text">Not approved for use. Working demo only.</div>
  			</div>
  			
  			<!-- Modal Header -->
  			<div class="modal-header">
  				<div class="modal-logo">
  					<img class="nhs-logo-modal" alt="NHS Logo" src="assets/NHS_Logo-RGB 1.svg">
  				</div>
  				<div class="modal-exit" onclick="closeSegmentationSurvey()">
  					<img class="close-icon" alt="Close" src="assets/Close.svg">
  					<span class="exit-text">Exit Survey</span>
  				</div>
  			</div>
  			
  			<!-- Modal Body -->
  			<div class="modal-body">
  				<div class="survey-instructions">
  					<p><strong><em>Please indicate on the scale below where your beliefs lie on each of the following dimensions.</em></strong></p>
  				</div>
  				
  								<!-- Scale Numbers -->
				<div class="scale-numbers">
					<div class="scale-numbers-container">
						<span>1</span>
						<span>2</span>
						<span>3</span>
						<span>4</span>
						<span>5</span>
						<span>6</span>
						<span>7</span>
					</div>
				</div>
  				
  				<!-- Scale Bar -->
  				<div class="scale-bar"></div>
  				
  				<!-- Survey Questions -->
  				<div class="survey-questions">
  					<!-- Question 1 -->
  					<div class="question-row">
  						<div class="question-left">
  							<p>My practice lacks the resources to overcome treatment access/ prior authorization challenges</p>
  						</div>
  						<div class="question-options">
  							<input type="radio" name="q1" value="1" id="q1-1">
  							<label for="q1-1"></label>
  							<input type="radio" name="q1" value="2" id="q1-2">
  							<label for="q1-2"></label>
  							<input type="radio" name="q1" value="3" id="q1-3">
  							<label for="q1-3"></label>
  							<input type="radio" name="q1" value="4" id="q1-4">
  							<label for="q1-4"></label>
  							<input type="radio" name="q1" value="5" id="q1-5">
  							<label for="q1-5"></label>
  							<input type="radio" name="q1" value="6" id="q1-6">
  							<label for="q1-6"></label>
  							<input type="radio" name="q1" value="7" id="q1-7">
  							<label for="q1-7"></label>
  						</div>
  						<div class="question-right">
  							<p>My practice is well-equipped to overcome treatment access/ prior authorization challenges</p>
  						</div>
  					</div>
  					
  					<!-- Question 2 -->
  					<div class="question-row">
  						<div class="question-left">
  							<p>I never have enough time to thoroughly educate and inform patients about their diagnosis</p>
  						</div>
  						<div class="question-options">
  							<input type="radio" name="q2" value="1" id="q2-1">
  							<label for="q2-1"></label>
  							<input type="radio" name="q2" value="2" id="q2-2">
  							<label for="q2-2"></label>
  							<input type="radio" name="q2" value="3" id="q2-3">
  							<label for="q2-3"></label>
  							<input type="radio" name="q2" value="4" id="q2-4">
  							<label for="q2-4"></label>
  							<input type="radio" name="q2" value="5" id="q2-5">
  							<label for="q2-5"></label>
  							<input type="radio" name="q2" value="6" id="q2-6">
  							<label for="q2-6"></label>
  							<input type="radio" name="q2" value="7" id="q2-7">
  							<label for="q2-7"></label>
  						</div>
  						<div class="question-right">
  							<p>I always have enough time to thoroughly educate and inform patients about their diagnosis</p>
  						</div>
  					</div>
  					
  					<!-- Question 3 -->
  					<div class="question-row">
  						<div class="question-left">
  							<p>I prefer to wait and see before I adjust treatment dosage</p>
  						</div>
  						<div class="question-options">
  							<input type="radio" name="q3" value="1" id="q3-1">
  							<label for="q3-1"></label>
  							<input type="radio" name="q3" value="2" id="q3-2">
  							<label for="q3-2"></label>
  							<input type="radio" name="q3" value="3" id="q3-3">
  							<label for="q3-3"></label>
  							<input type="radio" name="q3" value="4" id="q3-4">
  							<label for="q3-4"></label>
  							<input type="radio" name="q3" value="5" id="q3-5">
  							<label for="q3-5"></label>
  							<input type="radio" name="q3" value="6" id="q3-6">
  							<label for="q3-6"></label>
  							<input type="radio" name="q3" value="7" id="q3-7">
  							<label for="q3-7"></label>
  						</div>
  						<div class="question-right">
  							<p>I am willing to adjust the treatment plan readily, as soon as I consider there to be a need</p>
  						</div>
  					</div>
  				</div>
  				
  				<!-- Submit Button -->
  				<div class="submit-section">
  					<button class="submit-survey-btn" onclick="submitSurvey()">
  						Submit Survey
  					</button>
  				</div>
  			</div>
  		</div>
  	</div>
  	
  	<!-- Results Screen Modal -->
  	<div id="resultsModal" class="modal-overlay" style="display: none;">
  		<div class="modal-content">
  			<!-- Results Warning Banner -->
  			<div class="survey-warning-banner">
  				<div class="survey-warning-text">Not approved for use. Working demo only.</div>
  			</div>
  			
  			<!-- Results Header -->
  			<div class="modal-header">
  				<div class="modal-logo">
  					<img class="nhs-logo-modal" alt="NHS Logo" src="assets/NHS_Logo-RGB 1.svg">
  				</div>
  				<div class="modal-exit" onclick="finishSurvey()">
  					<img class="close-icon" alt="Close" src="assets/Close.svg">
  					<span class="exit-text">Exit Survey</span>
  				</div>
  			</div>
  			
  			<!-- Results Content -->
  			<div class="results-content">
  				<div class="results-header">
  					<div class="results-title">This doctor falls into:</div>
  				</div>
  				<div class="segment-display">
  					<div class="segment-name" id="segment-name">Segment A</div>
  					<div class="segment-description" id="segment-description">EVIDENCE-DRIVEN PRACTITIONERS</div>
  				</div>
  				<div class="finish-button-container">
  					<button class="finish-button" onclick="finishSurvey()">Finish</button>
  				</div>
  			</div>
  		</div>
  	</div>
  	
  	<script>
  		function navigateToVowst() {
  			// Veeva CLM navigation (mock)
  			if (typeof com !== 'undefined' && com.veeva && com.veeva.clm) {
  				com.veeva.clm.navigateToSlide('vowst-opening/index.html');
  			} else {
  				// Fallback for development
  				window.location.href = '../vowst-opening/index.html';
  			}
  		}
  		
  		function navigateToZenpep() {
  			// Veeva CLM navigation (mock)
  			if (typeof com !== 'undefined' && com.veeva && com.veeva.clm) {
  				com.veeva.clm.navigateToSlide('zenpep-opening/index.html');
  			} else {
  				// Fallback for development
  				window.location.href = '../zenpep-opening/index.html';
  			}
  		}
  		
  		function openSegmentationSurvey() {
  			document.getElementById('segmentationModal').style.display = 'flex';
  		}
  		
  		function closeSegmentationSurvey() {
  			document.getElementById('segmentationModal').style.display = 'none';
  		}
  		
  		// Segment data for random selection
  		const segments = [
  			{
  				name: "Segment A",
  				description: "PATIENT-COMMITTED EXPERTS"
  			},
  			{
  				name: "Segment B", 
  				description: "PEER-GUIDED FOLLOWERS"
  			}
  		];
  		
  		function submitSurvey() {
  			// Handle survey submission
  			console.log('Survey submitted');
  			
  			// Show random segment results
  			const randomSegment = segments[Math.floor(Math.random() * segments.length)];
  			
  			// Update the results content
  			document.getElementById('segment-name').textContent = randomSegment.name;
  			document.getElementById('segment-description').textContent = randomSegment.description;
  			
  			// Hide survey and show results
  			document.getElementById('segmentationModal').style.display = 'none';
  			document.getElementById('resultsModal').style.display = 'flex';
  		}
  		
  		function finishSurvey() {
  			// Return to main screen
  			document.getElementById('resultsModal').style.display = 'none';
  		}
  		
  		// Close modal when clicking outside
  		document.addEventListener('click', function(event) {
  			const modal = document.getElementById('segmentationModal');
  			if (event.target === modal) {
  				closeSegmentationSurvey();
  			}
  		});
  	</script>
</body>
</html>